v 20140308 2
C 58500 52000 1 0 0 ew40a-dig-pwr.sym
{
T 59500 58100 5 32 1 1 0 0 1
refdes=S1
T 59500 52900 5 16 1 1 0 2 1
source=ew40a-dig-pwr.sch
}
C 58600 36000 1 0 0 ew40a-dig-mcu.sym
{
T 62100 44500 5 32 0 0 0 4 1
device=none
T 59600 51100 5 32 1 1 0 0 1
refdes=S2
T 59600 36900 5 16 1 1 0 2 1
source=ew40a-dig-mcu.sch
}
C 72500 30500 1 0 0 ew40a-dig-adc.sym
{
T 73500 38600 5 32 1 1 0 0 1
refdes=S3
T 73500 31400 5 16 1 1 0 2 1
source=ew40a-dig-adc.sch
T 76000 35000 5 32 0 0 0 4 1
device=none
}
C 72500 39000 1 0 0 ew40a-dig-dac.sym
{
T 73500 48100 5 32 1 1 0 0 1
refdes=S4
T 73500 39900 5 16 1 1 0 2 1
source=ew40a-dig-dac.sch
}
C 46500 40000 1 0 0 ew40a-dig-fan.sym
{
T 50000 44000 5 32 0 0 0 4 1
device=none
T 47500 46100 5 32 1 1 0 0 1
refdes=S6
T 47500 40900 5 16 1 1 0 2 1
source=ew40a-dig-fan1.sch
}
C 46500 31500 1 0 0 ew40a-dig-fan.sym
{
T 50000 35500 5 32 0 0 0 4 1
device=none
T 47500 37600 5 32 1 1 0 0 1
refdes=S7
T 47500 32400 5 16 1 1 0 2 1
source=ew40a-dig-fan2.sch
}
C 46500 48500 1 0 0 ew40a-dig-can.sym
{
T 50000 52500 5 32 0 0 0 4 1
device=none
T 47500 54600 5 32 1 1 0 0 1
refdes=S5
T 47500 49400 5 16 1 1 0 2 1
source=ew40a-dig-can.sch
}
N 52800 45000 59300 45000 4
N 52800 44000 59300 44000 4
N 52800 43000 59300 43000 4
N 64900 47000 73200 47000 4
N 64900 46000 73200 46000 4
N 64900 45000 73200 45000 4
N 64900 43000 72500 43000 4
N 72500 43000 72500 44000 4
N 72500 44000 73200 44000 4
N 64900 42000 73200 42000 4
N 64900 41000 73200 41000 4
N 64900 39000 67000 39000 4
N 67000 39000 67000 34500 4
N 67000 34500 73200 34500 4
N 64900 38000 66000 38000 4
N 66000 32500 66000 38000 4
N 66000 32500 73200 32500 4
N 73200 37500 70500 37500 4
N 70500 37500 70500 47000 4
N 73200 36500 69500 36500 4
N 69500 36500 69500 46000 4
N 73200 35500 68500 35500 4
N 68500 35500 68500 45000 4
N 59300 40000 54500 40000 4
N 54500 40000 54500 36500 4
N 54500 36500 52800 36500 4
N 59300 39000 55500 39000 4
N 55500 39000 55500 35500 4
N 55500 35500 52800 35500 4
N 59300 38000 56500 38000 4
N 56500 38000 56500 34500 4
N 56500 34500 52800 34500 4
N 59300 50000 56500 50000 4
N 56500 50000 56500 53500 4
N 56500 53500 52800 53500 4
N 59300 49000 55500 49000 4
N 55500 49000 55500 52500 4
N 55500 52500 52800 52500 4
N 59300 48000 54500 48000 4
N 54500 48000 54500 50500 4
N 54500 50500 52800 50500 4
C 88500 50800 1 0 0 output-1.sym
{
T 88700 50600 5 10 0 0 0 0 1
device=OUTPUT
T 88500 51100 5 16 1 1 0 6 1
refdes=VREF
}
C 83300 36300 1 0 0 input-1.sym
{
T 83300 36100 5 10 0 0 0 0 1
device=INPUT
T 84400 36600 5 16 1 1 0 0 1
refdes=VMON
}
C 83300 35300 1 0 0 input-1.sym
{
T 83300 35100 5 10 0 0 0 0 1
device=INPUT
T 84400 35600 5 16 1 1 0 0 1
refdes=IMON
}
C 83300 33300 1 0 0 input-1.sym
{
T 83300 33100 5 10 0 0 0 0 1
device=INPUT
T 84400 33600 5 16 1 1 0 0 1
refdes=OVP_TRIP
}
C 83300 32300 1 0 0 input-1.sym
{
T 83300 32100 5 10 0 0 0 0 1
device=INPUT
T 84400 32600 5 16 1 1 0 0 1
refdes=OCP_TRIP
}
C 83300 31300 1 0 0 input-1.sym
{
T 83300 31100 5 10 0 0 0 0 1
device=INPUT
T 84400 31600 5 16 1 1 0 0 1
refdes=CV_ACTIVE
}
C 83300 30300 1 0 0 input-1.sym
{
T 83300 30100 5 10 0 0 0 0 1
device=INPUT
T 84400 30600 5 16 1 1 0 0 1
refdes=CC_ACTIVE
}
C 88500 48800 1 0 0 output-1.sym
{
T 88700 48600 5 10 0 0 0 0 1
device=OUTPUT
T 88500 49100 5 16 1 1 0 6 1
refdes=IREF
}
C 88500 46800 1 0 0 output-1.sym
{
T 88700 46600 5 10 0 0 0 0 1
device=OUTPUT
T 88500 47100 5 16 1 1 0 6 1
refdes=OVP_REF
}
C 88500 44800 1 0 0 output-1.sym
{
T 88700 44600 5 10 0 0 0 0 1
device=OUTPUT
T 88500 45100 5 16 1 1 0 6 1
refdes=OCP_REF
}
C 90800 42600 1 0 0 output-1.sym
{
T 91000 42400 5 10 0 0 0 0 1
device=OUTPUT
T 90800 42900 5 16 1 1 0 6 1
refdes=OUTPUT_OFF
}
B 69000 53500 7500 6000 3 10 1 2 200 200 0 -1 -1 -1 -1 -1
T 69200 58400 9 16 1 0 0 2 11
AVdd / Vref
- MCU max AVdd is 3.6V (min AVdd)
- DAC offset/full-scale error increases when Vcc > ~4.5V
- ADC needs AVdd = 5V
=>
AVdd = 3.3V
Vref = 2.5V (3V?)
use AD7192/93 (8ch) instead of AD7190
use REF1925/30 (with Vref/2 output)
reference buffer needed? AD8628?

T 69200 59300 9 32 1 0 0 2 1
TODO
C 80300 39000 1 0 0 ew40a-dig-out.sym
{
T 83800 46500 5 32 0 0 0 4 1
device=none
T 81300 52100 5 32 1 1 0 0 1
refdes=S8
T 81300 39900 5 16 1 1 0 2 1
source=ew40a-dig-out.sch
}
N 78800 47000 81000 47000 4
N 78800 45000 81000 45000 4
N 78800 43000 81000 43000 4
N 78800 41000 81000 41000 4
N 88500 51000 86600 51000 4
N 88500 49000 86600 49000 4
N 88500 47000 86600 47000 4
N 88500 45000 86600 45000 4
N 64900 49000 81000 49000 4
N 64900 50000 80000 50000 4
N 80000 50000 80000 51000 4
N 80000 51000 81000 51000 4
